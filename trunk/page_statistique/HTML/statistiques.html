<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../CSS/body.css">
    <link rel="stylesheet" href="../CSS/header.css">
    <link rel="stylesheet" href="../CSS/section.css">
    <link rel="stylesheet" href="../CSS/table.css">
    <link rel="stylesheet" href="../CSS/select.css">
    <link rel="stylesheet" href="../CSS/button-section.css">
    <link rel="stylesheet" href="../CSS/footer.css">
    <link rel="stylesheet" href="../CSS/spine.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Statistiques</title>
</head>
<body >
    <header id="#top">
        
            <ul class="list-header">
                <a class="anc-title" href="../../page_accueil/page_accueil.html" > <li >Accidentologie</li></a>
            
            
                <a class="anc-sous-titre" href="../../page_carte/HTML/page_carte.html"> <li >Carte</li> </a>

                <a id="statistiques" class="anc-sous-titre" href="../../page_carte/HTML/page_carte.html"> <li >Statistiques</li> </a>
           
            
                <a class="anc-sous-titre" href="../../page_carte/page_carte.html"> <li>Crédit</li> </a>

                <a class="anc-sous-titre" href="../../page_A_propos_de_nous/page_a-propos-de-nous.html"> <li>a propos de nous</li> </a>
            </ul>
        

    </header>
    <main>
        
        <section>
            <div class="graph-text-container"  >
               
                <button  id="button-graph" onmousemove="tableOpacity()" onmouseleave="tableRemoveOpacity()" onclick=" disapearTableau()">Graphe</button>
                
              
                
            </div>
            <div class="graph-table-container" >
                    <div class="graph-filtres-container" id="graph-filtres-container">
                
                                <div class="filtres-container">
                                    <div class="axe-x-container">
                                        <label for="axe-x">axe X :</label>
                                        <select id="axe-x" onchange="afficherFiltres(); getValueX()" name="axe-x">
                                            <option value="datetime">année</option>
                                            <option value="reg_name">région</option>
                                            <option value="dep_name">département</option>
                                            <option value="atm">condition métérologiques</option>
                                            <option value="sexe">sexe</option>
                                            <option value="an_nais">tranche d'age</option>
                                            <option value="grav">gravité</option>
                                            <option value="lum">jour/nuit</option>
                                        </select>
                                    </div>
                                    <div class="colonne-container">
                                        <label for="colonne">colonne :</label>
                                        <select id="graph-select" onchange="getValueColonne()" name="colonne">
                                            <option value="courbe">courbe</option>
                                            <option value="colonne">colonne</option>
                                            <option value="camembert">camembert</option>
                                        </select>
                                    </div> 
                                    <div class="filtre-lieu-container" >
                                        <label for="lieu">lieu :</label>
                                        <select onchange="getLieu()" name="lieu" id="lieu-select">
                                            <option value="tous-les-lieus">tous les lieus</option>
                                            
                                        </select>
                                    </div>
                                    <div class="filtre-annee-container" style="display:none"> <!-- filtre annee caché car on affiche le nombre d'accient par annee par defaut-->
                                        <label for="annee">année:</label>
                                        <select  name="annee" onchange="getAnnee()" id="annee-graph-select">
                                            <option value="toutes-les-annees">toutes les années</option>
                                            <option value="2019">2019</option>
                                            <option value="2018">2018</option>
                                            <option value="2017">2017</option>
                                            <option value="2016">2016</option>
                                            <option value="2015">2015</option>
                                            <option value="2014">2014</option>
                                            <option value="2013">2013</option>
                                            <option value="2012">2012</option>
                                        </select>
                                    </div>
                                    
                                </div>                        
                        <div class="graph-container" id="graph-container">
                            <canvas id="canvas">
                                <!-- le graph sera afficher ici-->
                            </canvas>
                            <svg id="spinner-graph"  width="80px" height="80px" viewBox="0 0 66 66" >
                                <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
                            </svg>
                            <p id="erreurs-graph"> message d'erreur</p>
                        </div>
                    </div>
                    <div class="table-annee-container" id="table">
                        <div class="table-container">

                            <table id="table-region-data">
                                <thead>
                                    <tr>
                                        <th>
                                            classement
                                        </th>
                                        <th>
                                             région
                                        </th>
                                        <th>
                                            nombre d'accident 
                                        </th>
                                    </tr>
                                </thead>
                                <tbody id="table-region">
                                </tbody>
                            </table>

                                <svg id="spinner-table"  width="80px" height="80px" viewBox="0 0 66 66" >
                                    <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
                                </svg>
                                <p id="erreurs-table" > message d'erreur</p>
                          

                        </div>
                        <div  class="annee-container" >
                            <select  class="filtre-annee" name="annee" id="annee-table-select" onchange=" getAnneeTable()" >
                                <option value="toutes-les-annees">toutes les années</option>
                                <option value="2019">2019</option>
                                <option value="2018">2018</option>
                                <option value="2017">2017</option>
                                <option value="2016">2016</option>
                                <option value="2015">2015</option>
                                <option value="2014">2014</option>
                                <option value="2013">2013</option>
                                <option value="2012">2012</option>
                                
                            </select>
                        </div>
                    </div>
                
                
               
                   

                </div>
            </div>
            <div class="telecharger-container">
                
                <button onmouseover="changeImageTelechargerWhite()" onmouseleave="changeImageTelechargerDark()" onclick="download()">télécharger
                    <img style="vertical-align:middle"   id="image-telecharger" src="../images/téléchargerdark.png" alt="télécharger" title="télécharger">
                </button>
                
                    
            </div>
                
        </section>
    </main>
    <footer>
        
            <div class="contactez-nous-container">
                <p>Contactez-nous</p>
                <ul>
                    <a href="mailto:hammaciyanis@gmail.com"> <li>hammaciyanis@gmail.com</li> </a>
                    <a href="mailto:maelle.bourbon@gmail.com"> <li>maelle.bourbon@gmail.com</li> </a>
                    <a href="mailto:dylanchou2003@gmail.com"> <li>dylanchou2003@gmail.com</li> </a>
                    <a href="mailto:poirier.seraphin@gmail.com"> <li>poirier.seraphin@gmail.com</li> </a>
                </ul>
            </div>
            
            <div class="liens-utils-container">
                <p>Liens utils</p>
                <ul>
                    <a href="https://public.opendatasoft.com/explore/?sort=modified"> <li>opendatasoft</li> </a>
                    <a href="https://www.data.gouv.fr/fr/"> <li>datagouv</li> </a>
                </ul>
            </div>  
            
            <div class="nombre-accident">
                <p>nombre d'accident enregistrés</p>
                <span id="nombre-accident"></span>
            </div>
        
        

        
            
        
    </footer>


    </div>
</body>
</html>
<script src="../Javascript/style.js"></script>
<script src="../Javascript/graph-config.js"></script>
<script src="../Javascript/graph-table-load.js"></script>
<script src="../Javascript/age-lum.js"></script>
<script src="../Javascript/graph-data.js"></script>
<script src="../Javascript/graph-filtres.js"></script>
<script src="../Javascript/init-filtre.js"></script>
<script src="../Javascript/nombre-accident.js"></script>
<script src="../Javascript/graph-download.js"></script>
<script src="../Javascript/tableau.js"></script>
